syntax = "proto3";
import "storage.proto";
import "status.proto";

enum CommandStatus {
    OK = 0;
    ERROR = 1;
    ERROR_NO_SPACE = 2;
    ERROR_NO_FILE = 3;
}

message Main {
    uint64 command_id = 1;
    CommandStatus command_status = 2;
    bool last = 3;
    oneof content {
        .Status.PingRequest ping_request = 4;
        .Status.PingResponse ping_response = 5;
        .Storage.ListRequest storage_list_request = 6;
        .Storage.ListResponse storage_list_response = 7;
        .Storage.ReadRequest storage_read_request = 8;
        .Storage.ReadResponse storage_read_response = 9;
        .Storage.WriteRequest storage_write_request = 10;
        .Storage.DeleteRequest storage_delete_request = 11;
    }
}

