syntax = "proto3";
import "storage.proto";
import "status.proto";

package PB;

enum CommandStatus {
    OK = 0;
    ERROR = 1;
    ERROR_NO_SPACE = 2;
    ERROR_NO_FILE = 3;
    ERROR_DECODE = 4;
}

message Dummy {
}

message Main {
    uint64 command_id = 1;
    CommandStatus command_status = 2;
    bool not_last = 3;
    oneof content {
        Dummy dummy = 12;
        .PB_Status.PingRequest ping_request = 4;
        .PB_Status.PingResponse ping_response = 5;
        .PB_Storage.ListRequest storage_list_request = 6;
        .PB_Storage.ListResponse storage_list_response = 7;
        .PB_Storage.ReadRequest storage_read_request = 8;
        .PB_Storage.ReadResponse storage_read_response = 9;
        .PB_Storage.WriteRequest storage_write_request = 10;
        .PB_Storage.DeleteRequest storage_delete_request = 11;
    }
}

